{"version":3,"file":"commonHelpers.js","sources":["../secret_api_key.js","../src/main.js"],"sourcesContent":["const SECRET_API_KEY = \"6410346f89264d6e919165208231505\";\nexport default SECRET_API_KEY;\n\n","import SECRET_API_KEY from \"../secret_api_key.js\";\n\nconst elements = {\n  form: document.querySelector(\".js-search-form\"),\n  list: document.querySelector(\".js-list\"),\n};\n\nelements.form.addEventListener(\"submit\", handlerForecast);\n\nfunction handlerForecast(evt) {\n  evt.preventDefault();\n\n  const { city, days } = evt.currentTarget.elements;\n\n  serviceWeather(city.value, days.value)\n    .then((data) => {\n      elements.list.innerHTML = createMarkup(\n        data.forecast.forecastday,\n        data.location\n      );\n    })\n    .catch((err) => {\n      elements.list.innerHTML =\n        '<li class=\"weather-card\"><img src=\"https://repository-images.githubusercontent.com/627560142/41fad3ef-09ac-4e99-a6b7-bacf592b3142\" alt=\"weather\" width=\"500\"/></li>';\n      console.log(err);\n    });\n}\n\nfunction serviceWeather(city = \"\", days = \"0\") {\n  const BASE_URL = \"http://api.weatherapi.com/v1\"; \n  const END_POINT = \"/forecast.json\";\n  const API_KEY = SECRET_API_KEY;\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: city,\n    days: days,\n    lang: \"en\",\n  });\n\n  return fetch(`${BASE_URL}${END_POINT}?${params}`).then((resp) => {\n    console.log(resp);\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n\n    return resp.json();\n  });\n}\n\nfunction createMarkup(arr, location) {\n  return arr\n    .map(\n      ({\n        date,\n        day: {\n          avgtemp_c,\n          condition: { icon, text },\n        },\n      }) => `\n  <li class=\"weather-card\">\n    <img src=\"${icon}\" alt=\"${text}\" class=\"weather-icon\" />\n    <h2 class=\"date\">${location.name}</h2>\n    <h3 class=\"date\">${location.country}</h3>\n    <h4 class=\"date\">${date}</h4>\n    <h4 class=\"weather-text\">${text}</h4>\n    <h4 class=\"temperature\">${avgtemp_c} Â°C</h4>\n</li>`\n    )\n    .join(\"\");\n}"],"names":["SECRET_API_KEY","elements","handlerForecast","evt","city","days","serviceWeather","data","createMarkup","err","BASE_URL","END_POINT","API_KEY","params","resp","arr","location","date","avgtemp_c","icon","text"],"mappings":"ssBAAA,MAAMA,EAAiB,kCCEjBC,EAAW,CACf,KAAM,SAAS,cAAc,iBAAiB,EAC9C,KAAM,SAAS,cAAc,UAAU,CACzC,EAEAA,EAAS,KAAK,iBAAiB,SAAUC,CAAe,EAExD,SAASA,EAAgBC,EAAK,CAC5BA,EAAI,eAAc,EAElB,KAAM,CAAE,KAAAC,EAAM,KAAAC,CAAI,EAAKF,EAAI,cAAc,SAEzCG,EAAeF,EAAK,MAAOC,EAAK,KAAK,EAClC,KAAME,GAAS,CACdN,EAAS,KAAK,UAAYO,EACxBD,EAAK,SAAS,YACdA,EAAK,QACb,CACA,CAAK,EACA,MAAOE,GAAQ,CACdR,EAAS,KAAK,UACZ,sKACF,QAAQ,IAAIQ,CAAG,CACrB,CAAK,CACL,CAEA,SAASH,EAAeF,EAAO,GAAIC,EAAO,IAAK,CAC7C,MAAMK,EAAW,+BACXC,EAAY,iBACZC,EAAUZ,EAEVa,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGR,EACH,KAAMC,EACN,KAAM,IACV,CAAG,EAED,OAAO,MAAM,GAAGK,IAAWC,KAAaE,GAAQ,EAAE,KAAMC,GAAS,CAE/D,GADA,QAAQ,IAAIA,CAAI,EACZ,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAGjC,OAAOA,EAAK,MAChB,CAAG,CACH,CAEA,SAASN,EAAaO,EAAKC,EAAU,CACnC,OAAOD,EACJ,IACC,CAAC,CACC,KAAAE,EACA,IAAK,CACH,UAAAC,EACA,UAAW,CAAE,KAAAC,EAAM,KAAAC,CAAM,CAC1B,CACT,IAAY;AAAA;AAAA,gBAEID,WAAcC;AAAA,uBACPJ,EAAS;AAAA,uBACTA,EAAS;AAAA,uBACTC;AAAA,+BACQG;AAAA,8BACDF;AAAA,MAEzB,EACA,KAAK,EAAE,CACZ"}